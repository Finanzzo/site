<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contato - FINANZZO</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="header-container"></div>

  <script>
    fetch('header.html')
      .then(response => response.text())
      .then(html => document.getElementById('header-container').innerHTML = html);
  </script>

  <main class="container">
    <h1>Fale Conosco</h1>

    <form action="https://formsubmit.co/finanzzo@finanzzosolucoes.com.br" method="POST" id="formContato">
      <label for="nome">Nome:</label>
      <input type="text" name="nome" id="nome" required />

      <label for="telefone">Telefone:</label>
      <input type="tel" name="telefone" id="telefone" required />

      <label for="servico">Serviço de Interesse:</label>
      <select name="servico" id="servico" required>
        <option value="">Selecione</option>
        <option value="emprestimo_cons">Empréstimo Consignado</option>
        <option value="portabilidade">Portabilidade</option>
        <option value="refinanciamento">Refinanciamento</option>
      </select>

      <div id="campoExtra"></div>

      <button type="submit">Enviar</button>
    </form>
  </main>

  <script>
    document.getElementById('servico').addEventListener('change', function() {
      const campoExtra = document.getElementById('campoExtra');
      campoExtra.innerHTML = '';

      if (this.value === 'emprestimo_cons') {
        campoExtra.innerHTML = `
          <label for="margem">Você já tem margem consignável disponível?</label>
          <select name="margem" id="margem" required>
            <option value="">Selecione</option>
            <option value="sim">Sim</option>
            <option value="nao">Não</option>
          </select>
        `;
      } else if (this.value === 'portabilidade') {
        campoExtra.innerHTML = `
          <label for="banco">Banco atual:</label>
          <input type="text" name="banco" id="banco" required />
        `;
      } else if (this.value === 'refinanciamento') {
        campoExtra.innerHTML = `
          <label for="valor">Valor do saldo devedor:</label>
          <input type="text" name="valor" id="valor" oninput="formatarMoeda(this)" required />
        `;
      }
    });

    function formatarMoeda(input) {
      let valor = input.value.replace(/\D/g, '');
      valor = (valor / 100).toFixed(2) + '';
      valor = valor.replace('.', ',');
      valor = valor.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1.');
      input.value = 'R$ ' + valor;
    }
  </script>

</body>
</html>
